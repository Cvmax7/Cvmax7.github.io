<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"/><meta name="theme-color" content="#222"/><meta http-equiv="X-UA-COMPATIBLE" content="IE=edge,chrome=1"/><meta name="renderer" content="webkit"/><link rel="icon" type="image/ico" sizes="32x32" href="/assets/favicon.ico"/><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"/><link rel="alternate" href="/rss.xml" title="The first is to learn, the second is to cope." type="application/rss+xml"><link rel="alternate" href="/atom.xml" title="The first is to learn, the second is to cope." type="application/atom+xml"><link rel="alternate" type="application/json" title="The first is to learn, the second is to cope." href="https://cvmax7.github.io/feed.json"/><link rel="preconnect" href="https://lf9-cdn-tos.bytecdntp.com"/><link rel="preconnect" href="https://at.alicdn.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7CFredericka%20the%20Great:400,400italic,700,700italic%7CNoto%20Serif%20JP:400,400italic,700,700italic%7CNoto%20Serif%20SC:400,400italic,700,700italic%7CInconsolata:400,400italic,700,700italic&display=swap&subset=latin,latin-ext" media="none" onload="this.media&#x3D;&#39;all&#39;"><link rel="stylesheet" href="/css/app.css?v=0.4.2"><link rel="modulepreload" href="/js/chunk-3VMQCGY7.js"></link><link rel="modulepreload" href="/js/chunk-NQL7AZTX.js"></link><link rel="modulepreload" href="/js/chunk-VBP5YFS2.js"></link><link rel="modulepreload" href="/js/index.esm-ARHQ23FR.js"></link><link rel="modulepreload" href="/js/post-5TFQ36LA.js"></link><link rel="modulepreload" href="/js/quicklink-OG522TS5.js"></link><link rel="modulepreload" href="/js/siteInit.js"></link><link rel="preload" href="h" as="image" fetchpriority="high"><link rel="preload" href="t" as="image" fetchpriority="high"><link rel="preload" href="t" as="image" fetchpriority="high"><link rel="preload" href="p" as="image" fetchpriority="high"><link rel="preload" href="s" as="image" fetchpriority="high"><link rel="preload" href=":" as="image" fetchpriority="high"><link rel="preload" href="/" as="image" fetchpriority="high"><link rel="preload" href="/" as="image" fetchpriority="high"><link rel="preload" href="o" as="image" fetchpriority="high"><link rel="preload" href="o" as="image" fetchpriority="high"><link rel="preload" href="o" as="image" fetchpriority="high"><link rel="preload" href="." as="image" fetchpriority="high"><link rel="preload" href="0" as="image" fetchpriority="high"><link rel="preload" href="x" as="image" fetchpriority="high"><link rel="preload" href="0" as="image" fetchpriority="high"><link rel="preload" href="." as="image" fetchpriority="high"><link rel="preload" href="o" as="image" fetchpriority="high"><link rel="preload" href="o" as="image" fetchpriority="high"><link rel="preload" href="o" as="image" fetchpriority="high"><link rel="preload" href="/" as="image" fetchpriority="high"><link rel="preload" href="2" as="image" fetchpriority="high"><link rel="preload" href="0" as="image" fetchpriority="high"><link rel="preload" href="2" as="image" fetchpriority="high"><link rel="preload" href="4" as="image" fetchpriority="high"><link rel="preload" href="/" as="image" fetchpriority="high"><link rel="preload" href="0" as="image" fetchpriority="high"><link rel="preload" href="6" as="image" fetchpriority="high"><link rel="preload" href="/" as="image" fetchpriority="high"><link rel="preload" href="1" as="image" fetchpriority="high"><link rel="preload" href="5" as="image" fetchpriority="high"><link rel="preload" href="/" as="image" fetchpriority="high"><link rel="preload" href="O" as="image" fetchpriority="high"><link rel="preload" href="J" as="image" fetchpriority="high"><link rel="preload" href="w" as="image" fetchpriority="high"><link rel="preload" href="c" as="image" fetchpriority="high"><link rel="preload" href="I" as="image" fetchpriority="high"><link rel="preload" href="x" as="image" fetchpriority="high"><link rel="preload" href="." as="image" fetchpriority="high"><link rel="preload" href="j" as="image" fetchpriority="high"><link rel="preload" href="p" as="image" fetchpriority="high"><link rel="preload" href="g" as="image" fetchpriority="high"><link rel="canonical" href="https://cvmax7.github.io/2024/06/14/C-Notes/"><title>C++Notes</title><meta name="generator" content="Hexo 7.0.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">C++Notes</h1><div class="meta"><span class="item" title="Created: 2024-06-14 23:59:46"><span class="icon"><i class="ic i-calendar"></i></span><span class="text">Posted on</span><time itemprop="dateCreated datePublished" datetime="2024-06-14T23:59:46+08:00">2024-06-14</time></span><span class="item" title="Symbols count in article"><span class="icon"><i class="ic i-pen"></i></span><span class="text">Symbols count in article</span><span>20k</span><span class="text">words</span></span><span class="item" title="Reading time"><span class="icon"><i class="ic i-clock"></i></span><span class="text">Reading time</span><span>18 mins.</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="Toggle navigation bar"><span class="line"></span><span class="line"></span><span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Cvmax7</a></li></ul><ul class="right" id="rightNav"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div class="pjax" id="imgs"><img src="https://ooo.0x0.ooo/2024/06/15/OJwcIx.jpg" loading="eager" decoding="async" fetchpriority="high" alt="The first is to learn, the second is to cope."></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"></use><use xlink:href="#gentle-wave" x="48" y="3"></use><use xlink:href="#gentle-wave" x="48" y="5"></use><use xlink:href="#gentle-wave" x="48" y="7"></use></g></svg></div><main><div class="inner"><div class="pjax" id="main"><div class="article wrap"><div class="breadcrumb" itemListElement itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i><span><a href="/">Home</a></span></div><article class="post block" itemscope="itemscope" itemtype="http://schema.org/Article" lang="en"><link itemprop="mainEntityOfPage" href="https://cvmax7.github.io/2024/06/14/C-Notes/"/><span hidden="hidden" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="image" content="/assets/avatar.jpg"/><meta itemprop="name" content="Cvmax7"/><meta itemprop="description" content="null, "/></span><span hidden="hidden" itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="The first is to learn, the second is to cope."/></span><div class="body md" itemprop="articleBody"><p><strong>所有统计点 (count) 都要考虑要不要开成 long long</strong></p>
<p><strong>fabs () 是对浮点数取绝对值，abs () 是对整型取绝对值，不能混淆，否则会 WA</strong></p>
<p><strong>考虑所有的边界情况！！！</strong></p>
<p><strong>求区间 [L,R] 内有多少个奇数或偶数，可考虑 [0,R]-[0,L]</strong></p>
<ul>
<li>
<p>小于等于 x 的奇数个数：</p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>int f<span class="token punctuation">(</span>int x<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token builtin class-name">return</span> <span class="token punctuation">(</span>x+1<span class="token punctuation">)</span>/2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li>
<li>
<p>小于等于 x 的 4 的倍数的个数</p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>int g<span class="token punctuation">(</span>int x<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token builtin class-name">return</span> x/4<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li>
<li>
<p>区间 [L,R] 内的奇数，与 4 的倍数的个数</p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>odd_num <span class="token operator">=</span> f<span class="token punctuation">(</span>R<span class="token punctuation">)</span> - f<span class="token punctuation">(</span>L-1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>even_num <span class="token operator">=</span> <span class="token punctuation">(</span>R - L + <span class="token number">1</span><span class="token punctuation">)</span> - odd_num<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>times4 <span class="token operator">=</span> g<span class="token punctuation">(</span>R<span class="token punctuation">)</span> - g<span class="token punctuation">(</span>L-1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li>
</ul>
<p><strong>字符串比较</strong></p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>bool cmp<span class="token punctuation">(</span>string a, string b<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token builtin class-name">return</span> a + b <span class="token operator">></span> b + a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><strong>删除字符串指定位置</strong></p>
<p>(1) <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="yellow"><mi>e</mi><mi>r</mi><mi>a</mi><mi>s</mi><mi>e</mi><mo stretchy="false">(</mo><mi>p</mi><mi>o</mi><mi>s</mi><mo separator="true">,</mo><mi>n</mi><mo stretchy="false">)</mo></mstyle></mrow><annotation encoding="application/x-tex">\textcolor{yellow}{erase(pos,n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;color:yellow;">er</span><span class="mord mathnormal" style="color:yellow;">a</span><span class="mord mathnormal" style="color:yellow;">se</span><span class="mopen" style="color:yellow;">(</span><span class="mord mathnormal" style="color:yellow;">p</span><span class="mord mathnormal" style="color:yellow;">os</span><span class="mpunct" style="color:yellow;">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="color:yellow;">n</span><span class="mclose" style="color:yellow;">)</span></span></span></span>：从 pos 位置开始，一共删除 n 个字符</p>
<p>(2) <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="yellow"><mi>e</mi><mi>r</mi><mi>a</mi><mi>s</mi><mi>e</mi><mo stretchy="false">(</mo><mi>p</mi><mi>o</mi><mi>s</mi><mi>i</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo stretchy="false">)</mo></mstyle></mrow><annotation encoding="application/x-tex">\textcolor{yellow}{erase(position)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;color:yellow;">er</span><span class="mord mathnormal" style="color:yellow;">a</span><span class="mord mathnormal" style="color:yellow;">se</span><span class="mopen" style="color:yellow;">(</span><span class="mord mathnormal" style="color:yellow;">p</span><span class="mord mathnormal" style="color:yellow;">os</span><span class="mord mathnormal" style="color:yellow;">i</span><span class="mord mathnormal" style="color:yellow;">t</span><span class="mord mathnormal" style="color:yellow;">i</span><span class="mord mathnormal" style="color:yellow;">o</span><span class="mord mathnormal" style="color:yellow;">n</span><span class="mclose" style="color:yellow;">)</span></span></span></span>： 删除 position 处的一个字符 (position 是个 string 类型的迭代器)</p>
<p>(3) <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="yellow"><mi>e</mi><mi>r</mi><mi>a</mi><mi>s</mi><mi>e</mi><mo stretchy="false">(</mo><mi>f</mi><mi>i</mi><mi>r</mi><mi>s</mi><mi>t</mi><mo separator="true">,</mo><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi><mo stretchy="false">)</mo></mstyle></mrow><annotation encoding="application/x-tex">\textcolor{yellow}{erase(first,last)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;color:yellow;">er</span><span class="mord mathnormal" style="color:yellow;">a</span><span class="mord mathnormal" style="color:yellow;">se</span><span class="mopen" style="color:yellow;">(</span><span class="mord mathnormal" style="margin-right:0.10764em;color:yellow;">f</span><span class="mord mathnormal" style="color:yellow;">i</span><span class="mord mathnormal" style="color:yellow;">rs</span><span class="mord mathnormal" style="color:yellow;">t</span><span class="mpunct" style="color:yellow;">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;color:yellow;">l</span><span class="mord mathnormal" style="color:yellow;">a</span><span class="mord mathnormal" style="color:yellow;">s</span><span class="mord mathnormal" style="color:yellow;">t</span><span class="mclose" style="color:yellow;">)</span></span></span></span>： 删除从 first 到 last 之间的字符 (左闭右开)</p>
<p>**sort 函数 **(默认升序)</p>
<ul>
<li>less&lt;T&gt;() 为升序</li>
<li>greater&lt;T&gt;() 为降序</li>
</ul>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">#include &lt;bits/stdc++.h></span></pre></td></tr><tr><td data-num="2"></td><td><pre>sort<span class="token punctuation">(</span>arr, arr + n, <span class="token function">cmp</span><span class="token punctuation">)</span>//对arr前n个元素排序</pre></td></tr><tr><td data-num="3"></td><td><pre>sort<span class="token punctuation">(</span>arr, arr+n, less<span class="token operator">&lt;</span>int<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span> //升序</pre></td></tr><tr><td data-num="4"></td><td><pre>sort<span class="token punctuation">(</span>arr, arr+n, greater<span class="token operator">&lt;</span>int<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span> //降序</pre></td></tr></table></figure><ul>
<li>sort (起始迭代器，结束迭代器，自定义排序方法)</li>
</ul>
<p><strong>reverse 函数</strong></p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">#include &lt;bits/stdc++.h></span></pre></td></tr><tr><td data-num="2"></td><td><pre>string s <span class="token operator">=</span> <span class="token string">"ABCDIJA"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>reverse<span class="token punctuation">(</span>s.begin<span class="token punctuation">(</span><span class="token punctuation">)</span>, s.end<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span> //左闭右开</pre></td></tr></table></figure><p><strong>读取多行整数数据</strong></p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>string s<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	while<span class="token punctuation">(</span>getline<span class="token punctuation">(</span>cin, s<span class="token punctuation">))</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token punctuation">&#123;</span>	</pre></td></tr><tr><td data-num="4"></td><td><pre>		int x<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>		stringstream res<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>		<span class="token keyword">while</span> <span class="token punctuation">(</span>res <span class="token operator">>></span> x<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>			v.push_back<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>注意：<strong>用 Ctrl+Z 结束</strong></p>
<p><strong>取消同步流提速</strong></p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>int <span class="token function-name function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	ios::sync_with_stdio<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>, cin.tie<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>, cout.tie<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> //取消同步流</pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token builtin class-name">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><strong>二分查找</strong></p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>binary_search<span class="token punctuation">(</span>first,last,value<span class="token punctuation">)</span><span class="token punctuation">;</span>//返回值为bool类型</pre></td></tr><tr><td data-num="2"></td><td><pre>lower_bound<span class="token punctuation">(</span>first,last,value<span class="token punctuation">)</span><span class="token punctuation">;</span> //返回的是指针</pre></td></tr><tr><td data-num="3"></td><td><pre>upper_bound<span class="token punctuation">(</span>first,last,value<span class="token punctuation">)</span><span class="token punctuation">;</span> //返回的是指针</pre></td></tr><tr><td data-num="4"></td><td><pre>//数组</pre></td></tr><tr><td data-num="5"></td><td><pre>int <span class="token function">id</span> <span class="token operator">=</span> lower_bound<span class="token punctuation">(</span>arr,arr+n,value<span class="token punctuation">)</span>-arr<span class="token punctuation">;</span> //返回的是第一个大于等于value的下标</pre></td></tr><tr><td data-num="6"></td><td><pre>int <span class="token function">id</span> <span class="token operator">=</span> upper_bound<span class="token punctuation">(</span>arr,arr+n,value<span class="token punctuation">)</span>-arr<span class="token punctuation">;</span> //返回的是第一个大于value的下标</pre></td></tr><tr><td data-num="7"></td><td><pre>int count <span class="token operator">=</span> upper_bound<span class="token punctuation">(</span><span class="token punctuation">)</span>-lower_bound<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>//向量</pre></td></tr><tr><td data-num="10"></td><td><pre>int <span class="token function">id</span> <span class="token operator">=</span> lower_bound<span class="token punctuation">(</span>v.begin<span class="token punctuation">(</span><span class="token punctuation">)</span>,v.end<span class="token punctuation">(</span><span class="token punctuation">)</span>,value<span class="token punctuation">)</span> - v.begin<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>int <span class="token function">id</span> <span class="token operator">=</span> upper_bound<span class="token punctuation">(</span>v.begin<span class="token punctuation">(</span><span class="token punctuation">)</span>,v.end<span class="token punctuation">(</span><span class="token punctuation">)</span>,value<span class="token punctuation">)</span> - v.begin<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>注意：二分查找只能在有序数组中使用，使用前先 sort。</p>
<ul>
<li>
<p>在升序数组中：lower_bound () 返回的是<strong>第一个大于等于 value 值的数字的迭代器</strong></p>
<p>​	    upper_bound () 返回的是<strong>第一个大于 value 值的数字的迭代器</strong></p>
</li>
<li>
<p>在降序数组中：lower_bound () 返回的是<strong>第一个小于等于 value 值的数字的迭代器</strong></p>
<p>​	    upper_bound () 返回的是<strong>第一个小于 value 值的数字的迭代器</strong></p>
</li>
</ul>
<blockquote>
<p>给定一个长度为 n 的非降序序列 a，求 a 中元素 x 出现次数。</p>
</blockquote>
<ul>
<li>查找数组中有多少个数与 value 相等：<strong>upper_bound()-lower_bound()</strong></li>
</ul>
<blockquote>
<p>给定一个长度为 n 的非降序序列 a，求 a 中大于 x 的元素个数。</p>
</blockquote>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>int count <span class="token operator">=</span> v.size<span class="token punctuation">(</span><span class="token punctuation">)</span>-<span class="token punctuation">(</span>upper_bound<span class="token punctuation">(</span>v.begin<span class="token punctuation">(</span><span class="token punctuation">)</span>,v.end<span class="token punctuation">(</span><span class="token punctuation">)</span>,x<span class="token punctuation">)</span>-v.begin<span class="token punctuation">(</span><span class="token punctuation">))</span>+1</pre></td></tr></table></figure><blockquote>
<p>给定一个长度为 n 的非降序序列 a，求 a 中小于 x 的元素个数。</p>
</blockquote>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>int count <span class="token operator">=</span> lower_bound<span class="token punctuation">(</span>v.begin<span class="token punctuation">(</span><span class="token punctuation">)</span>,v.end<span class="token punctuation">(</span><span class="token punctuation">)</span>,x<span class="token punctuation">)</span>-v.begin<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>注：<strong>使用 lower_bound () 前要判断是否会找不到，找不到则返回最后一个元素的下一个位置，此时不能直接用 lower_bound (arr,arr+n,x)-arr 来表示下标，否则会报错</strong></p>
<h1 id="stl库"><a class="anchor" href="#stl库">#</a> STL 库</h1>
<h1 id="string"><a class="anchor" href="#string">#</a> string</h1>
<h2 id="1字符判断常用函数"><a class="anchor" href="#1字符判断常用函数">#</a> 1. 字符判断常用函数</h2>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">#include &lt;cctype></span></pre></td></tr><tr><td data-num="2"></td><td><pre>isalpha<span class="token punctuation">(</span>char c<span class="token punctuation">)</span><span class="token punctuation">;</span> //判断一个字符是否为字母</pre></td></tr><tr><td data-num="3"></td><td><pre>isalnum<span class="token punctuation">(</span>char c<span class="token punctuation">)</span><span class="token punctuation">;</span> //判断一个字符是否为字母或数字，即a~z<span class="token operator">||</span>A~Z<span class="token operator">||</span><span class="token number">0</span>~9</pre></td></tr><tr><td data-num="4"></td><td><pre>isdigit<span class="token punctuation">(</span>char c<span class="token punctuation">)</span><span class="token punctuation">;</span> //判断一个字符是否为数字</pre></td></tr><tr><td data-num="5"></td><td><pre>islower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> //判断一个字符是否为小写</pre></td></tr><tr><td data-num="6"></td><td><pre>isupeer<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> //判断一个字符是否为大写</pre></td></tr><tr><td data-num="7"></td><td><pre>ispunct<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> //判断一个字符是否为标点符号字符</pre></td></tr></table></figure><p><strong>判断若是则返回非零值，若不是则返回 0</strong></p>
<h2 id="2大小写转换"><a class="anchor" href="#2大小写转换">#</a> 2. 大小写转换</h2>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>int tolower<span class="token punctuation">(</span>int c<span class="token punctuation">)</span><span class="token punctuation">;</span> //将一个大写字符转化为小写</pre></td></tr><tr><td data-num="2"></td><td><pre>int toupper<span class="token punctuation">(</span>int c<span class="token punctuation">)</span><span class="token punctuation">;</span> //将一个小写字符转化为大写</pre></td></tr></table></figure><p><strong>这里返回值为 int 型，为一个字符的 ASCII 码，故要一个字符型变量来接受返回值</strong></p>
<ul>
<li>
<p>e.g.</p>
</li>
<li>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>string s <span class="token operator">=</span> <span class="token string">"ABCDEFG"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">for</span> <span class="token punctuation">(</span>char <span class="token operator">&amp;</span>ch <span class="token builtin class-name">:</span> s<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	ch <span class="token operator">=</span> tolower<span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">;</span></pre></td></tr></table></figure></li>
</ul>
<p><strong>注意引用符号</strong></p>
<h2 id="3迭代器"><a class="anchor" href="#3迭代器">#</a> 3. 迭代器</h2>
<p><img loading="lazy" data-src="C:%5CUsers%5C27644%5CDesktop%5CSnipaste_2024-03-20_10-51-57.png" alt="" /></p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>//正向遍历</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">for</span> <span class="token punctuation">(</span>string::iterator it <span class="token operator">=</span> s.begin<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it<span class="token operator">!=</span>s.end<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	cout <span class="token operator">&lt;&lt;</span> *it <span class="token operator">&lt;&lt;</span> <span class="token string">"<span class="token entity" title="\n">\n</span>"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>//反向遍历</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">for</span> <span class="token punctuation">(</span>string::reverse_iterator rit <span class="token operator">=</span> s.rbegin<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> rit<span class="token operator">!=</span>s.rend<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> rit++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    cout <span class="token operator">&lt;&lt;</span> *rit <span class="token operator">&lt;&lt;</span> <span class="token string">"<span class="token entity" title="\n">\n</span>"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ul>
<li><strong>范围 for</strong></li>
</ul>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>string s <span class="token operator">=</span> <span class="token string">"advavssa"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">for</span> <span class="token punctuation">(</span>auto ch <span class="token builtin class-name">:</span> s<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	ch <span class="token operator">=</span> toupper<span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">;</span></pre></td></tr></table></figure><p><strong>在遍历字符串 s 时，ch 每次只会是当前字符的一份拷贝，在循环结束后 ch 的每一次变化是不会导致字符串 s 发生变化的。</strong></p>
<p><strong>要使字符串 s 发生变化，可通过引用 &amp;：</strong></p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">for</span> <span class="token punctuation">(</span>auto<span class="token operator">&amp;</span> ch <span class="token builtin class-name">:</span> s<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	ch <span class="token operator">=</span> toupper<span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">;</span></pre></td></tr></table></figure><h2 id="4基本操作"><a class="anchor" href="#4基本操作">#</a> 4. 基本操作</h2>
<ul>
<li><strong>string substr (pos,len): 从起始迭代器开始截取长度为 len 的子串，返回值为 string</strong></li>
</ul>
<p>函数原型：</p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>string substr<span class="token punctuation">(</span>size_t pos <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> size_t len <span class="token operator">=</span> npos<span class="token punctuation">)</span> const<span class="token punctuation">;</span></pre></td></tr></table></figure><p>e.g.</p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>string s <span class="token operator">=</span> <span class="token string">"iajijcija"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>string s2 <span class="token operator">=</span> s.substr<span class="token punctuation">(</span><span class="token number">0,3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> //从第一个位置开始截取长度为3的子串</pre></td></tr></table></figure><h1 id="vector"><a class="anchor" href="#vector">#</a> vector</h1>
<h2 id="1基本概念"><a class="anchor" href="#1基本概念">#</a> 1. 基本概念</h2>
<p>vector：动态扩展的数组（动态数组）</p>
<p><strong>vector 构造函数</strong>：</p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>vector<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token function">v</span><span class="token punctuation">;</span> //T为typename</pre></td></tr><tr><td data-num="2"></td><td><pre>vector<span class="token operator">&lt;</span>T<span class="token operator">></span> v1<span class="token punctuation">(</span>v.begin<span class="token punctuation">(</span><span class="token punctuation">)</span>, v.end<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span>  //将区间v<span class="token punctuation">[</span>begin<span class="token punctuation">(</span><span class="token punctuation">)</span>,end<span class="token punctuation">(</span><span class="token punctuation">))</span>中的元素传入v1</pre></td></tr><tr><td data-num="3"></td><td><pre>vector<span class="token operator">&lt;</span>T<span class="token operator">></span> v1<span class="token punctuation">(</span>n, elem<span class="token punctuation">)</span><span class="token punctuation">;</span> //将n个elem传入v1</pre></td></tr><tr><td data-num="4"></td><td><pre>vector<span class="token operator">&lt;</span>T<span class="token operator">></span> v1<span class="token punctuation">(</span>const vector <span class="token operator">&amp;</span><span class="token function">v</span><span class="token punctuation">)</span><span class="token punctuation">;</span> //拷贝构造函数，将v拷贝给v1</pre></td></tr></table></figure><p>注意：其中 vector&lt;T&gt; v1 (v.begin (),v.end ()); 中<strong>可以取到 v.begin () 的值，但取不到 v.end () 的值</strong>，同时<strong> v.end () 不是指向最后一个元素</strong>，而是最后一个元素的后一位。</p>
<p>动态扩展：<strong>并不是在原空间之后续接新空间，而是找更大的内存空间 (STL 中有专门的算法去找这个内存空间），然后将原数据拷贝新空间，释放原空间。</strong></p>
<ul>
<li>
<p><strong>vector 容器前端封闭</strong></p>
</li>
<li>
<p>vector 常用迭代器：</p>
</li>
</ul>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>v.rend<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> //这个迭代器指向第一个元素的前一位</pre></td></tr><tr><td data-num="2"></td><td><pre>v.begin<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> //常用的vector迭代器，指向第一个元素</pre></td></tr><tr><td data-num="3"></td><td><pre>v.end<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> //常用的vector迭代器，指向最后一个元素的后一位</pre></td></tr><tr><td data-num="4"></td><td><pre>v.rbegint<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> //这个迭代器指向最后一个元素</pre></td></tr></table></figure><h2 id="2赋值操作"><a class="anchor" href="#2赋值操作">#</a> 2. 赋值操作</h2>
<ul>
<li>vector&amp; operator = (const vector &amp;vec);</li>
</ul>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>vector<span class="token operator">&amp;</span> operator  <span class="token operator">=</span> <span class="token punctuation">(</span>const vector <span class="token operator">&amp;</span>vec<span class="token punctuation">)</span><span class="token punctuation">;</span> //重载等号操作符</pre></td></tr><tr><td data-num="2"></td><td><pre>//e.g.</pre></td></tr><tr><td data-num="3"></td><td><pre>vector<span class="token operator">&lt;</span>int<span class="token operator">></span> v2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>v2 <span class="token operator">=</span> v1<span class="token punctuation">;</span></pre></td></tr></table></figure><ul>
<li>assign (beg,end); // 将 [beg,end) 区间中的数据拷贝赋值给本身。</li>
</ul>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>vector<span class="token operator">&lt;</span>int<span class="token operator">></span> v2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>v2.assign<span class="token punctuation">(</span>v1.begin<span class="token punctuation">(</span><span class="token punctuation">)</span>,v2.end<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span></pre></td></tr></table></figure><ul>
<li>assign (n,elem); // 将 n 个 elem 拷贝赋值给本身。</li>
</ul>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>vector<span class="token operator">&lt;</span>int<span class="token operator">></span> v2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>v2.assign<span class="token punctuation">(</span><span class="token number">10,6</span><span class="token punctuation">)</span><span class="token punctuation">;</span> //将10个6传入v2</pre></td></tr></table></figure><h2 id="3遍历方式"><a class="anchor" href="#3遍历方式">#</a> 3. 遍历方式</h2>
<p><strong>容器</strong>：vector</p>
<p><strong>算法</strong>：for_each</p>
<p><strong>迭代器</strong>：vector&lt;int&gt;::iterator</p>
<ul>
<li><strong>两种常用遍历方式</strong></li>
</ul>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>//正向遍历</pre></td></tr><tr><td data-num="2"></td><td><pre>for<span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>int<span class="token operator">></span>::iterator it <span class="token operator">=</span> v.begin<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> v.end<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	cout <span class="token operator">&lt;&lt;</span> *it <span class="token operator">&lt;&lt;</span> <span class="token string">"<span class="token entity" title="\n">\n</span>"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>//反向遍历</pre></td></tr><tr><td data-num="7"></td><td><pre>for<span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>int<span class="token operator">></span>::reverse_iterator rit <span class="token operator">=</span> v.rbegin<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> rit<span class="token operator">!=</span>v.rend<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>rit++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	cout <span class="token operator">&lt;&lt;</span> *rit <span class="token operator">&lt;&lt;</span> <span class="token string">"<span class="token entity" title="\n">\n</span>"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>for_each 采用<strong>回调技术</strong></p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>void myprint<span class="token punctuation">(</span>int n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> n <span class="token operator">&lt;&lt;</span> <span class="token string">"<span class="token entity" title="\n">\n</span>"</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>for_each<span class="token punctuation">(</span>v.begin<span class="token punctuation">(</span><span class="token punctuation">)</span>, v.end<span class="token punctuation">(</span><span class="token punctuation">)</span>, myprint<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p><strong>for_each(_First, _Last, _Func):</strong></p>
<ul>
<li><strong>_First 放起始迭代器</strong></li>
<li><strong>_Last 放结束迭代器</strong></li>
<li><strong>_Func 放函数名，函数参数为 (int n)</strong></li>
</ul>
<h2 id="4it"><a class="anchor" href="#4it">#</a> 4.*it</h2>
<p><strong>每个容器都有自己专属的迭代器。同一个容器，迭代器的类型与容器的数据类型相匹配</strong></p>
<ul>
<li>vector&lt;Person&gt; ::iterator it = v.begin();
<ul>
<li>it 是指向 Person 类的指针</li>
<li>*it 就是 Person 类</li>
</ul>
</li>
<li>vector&lt;Person*&gt;::iterator it = v.begin();
<ul>
<li>it 是指向 Person * 的指针</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mrow></mrow><mo lspace="0em" rspace="0em">∗</mo></msup><mi>i</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">^{*}it</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6887em;"></span><span class="mord"><span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span></span></span></span></span></span></span></span></span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span></span></span></span> 就是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>e</mi><mi>r</mi><mi>s</mi><mi>o</mi><msup><mi>n</mi><mo lspace="0em" rspace="0em">∗</mo></msup></mrow><annotation encoding="application/x-tex">person^{*}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8831em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal">erso</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span></span></span></span></span></span></span></span></span></span></span></span>，引用成员：*it-&gt;age</li>
</ul>
</li>
</ul>
<p>*<em>&lt; &gt; 里是什么数据类型，<em>it 解出来的就是什么数据类型。it 的本质是个指针</em></em></p>
<h2 id="5vector中嵌套vector"><a class="anchor" href="#5vector中嵌套vector">#</a> 5.vector 中嵌套 vector</h2>
<p><strong>相当于一个动态的二维数组</strong></p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span>int<span class="token operator">>></span> <span class="token function">v</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>//遍历动态二维数组</pre></td></tr><tr><td data-num="3"></td><td><pre>for<span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span>int<span class="token operator">>></span>::iterator it <span class="token operator">=</span> v.begin<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> v.end<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	for<span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>int<span class="token operator">></span> :: iterator jt <span class="token operator">=</span> *it.begin<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> jt <span class="token operator">!=</span> *it.end<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> jt++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        cout <span class="token operator">&lt;&lt;</span> *jt <span class="token operator">&lt;&lt;</span> <span class="token string">"<span class="token entity" title="\n">\n</span>"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>*<em> 其中 $$<em>it$$ = vector&lt;int&gt;，故小容器的起始迭代器为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∗</mo><mi>i</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">*it</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord">∗</span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span></span></span></span>.begin ()，也可以写成 it-&gt;begin ();</em></em></p>
<h2 id="6vector容量和大小"><a class="anchor" href="#6vector容量和大小">#</a> 6.vector 容量和大小</h2>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>vector<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token function">v</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>v.empty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> //判空</pre></td></tr><tr><td data-num="3"></td><td><pre>v.size<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> //返回容器中元素的个数</pre></td></tr><tr><td data-num="4"></td><td><pre>v.resize<span class="token punctuation">(</span>int num<span class="token punctuation">)</span><span class="token punctuation">;</span> //重新指定容器的长度为num，默认用0填充新位置</pre></td></tr><tr><td data-num="5"></td><td><pre>v.resize<span class="token punctuation">(</span>int num, elem<span class="token punctuation">)</span><span class="token punctuation">;</span> //用elem填充新位置</pre></td></tr></table></figure><p><strong>若容器变长，则以默认值 0 来填充新位置；若容器变短，则末尾超出容器长度的元素会被删除。</strong></p>
<p><strong>PS:v.capacity () 返回该容器容量，容量永远 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≥</mo></mrow><annotation encoding="application/x-tex">\ge</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">≥</span></span></span></span> 容器大小</strong></p>
<h2 id="7vector插入和删除"><a class="anchor" href="#7vector插入和删除">#</a> 7.vector 插入和删除</h2>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>vector<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token function">v</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>v.push_back<span class="token punctuation">(</span>elem<span class="token punctuation">)</span><span class="token punctuation">;</span> //尾部插入元素elem</pre></td></tr><tr><td data-num="3"></td><td><pre>v.pop_back<span class="token punctuation">(</span>elem<span class="token punctuation">)</span><span class="token punctuation">;</span> //删除最后一个元素</pre></td></tr><tr><td data-num="4"></td><td><pre>v.insert<span class="token punctuation">(</span>pos,elem<span class="token punctuation">)</span><span class="token punctuation">;</span> //在迭代器指向pos位置前插入元素elem</pre></td></tr><tr><td data-num="5"></td><td><pre>v.insert<span class="token punctuation">(</span>pos,count,elem<span class="token punctuation">)</span><span class="token punctuation">;</span> //在迭代器指向pos位置前插入count个元素elem</pre></td></tr><tr><td data-num="6"></td><td><pre>v.erase<span class="token punctuation">(</span>pos<span class="token punctuation">)</span><span class="token punctuation">;</span> //删除迭代器指向pos位置的元素，不能传入v.end<span class="token punctuation">(</span><span class="token punctuation">)</span>迭代器！</pre></td></tr><tr><td data-num="7"></td><td><pre>v.erase<span class="token punctuation">(</span>start,end<span class="token punctuation">)</span><span class="token punctuation">;</span> //删除迭代器从start到end之间的元素。左闭右开</pre></td></tr><tr><td data-num="8"></td><td><pre>v.clear<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> //删除容器中所有元素</pre></td></tr></table></figure><ul>
<li>e.g.</li>
</ul>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>vector<span class="token operator">&lt;</span>int<span class="token operator">></span> <span class="token function">v</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>		v.push_back<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	v.insert<span class="token punctuation">(</span>v.begin<span class="token punctuation">(</span><span class="token punctuation">)</span> + <span class="token number">1</span>, <span class="token number">6</span>, <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>int<span class="token operator">></span>::iterator it <span class="token operator">=</span> v.begin<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> v.end<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>		cout <span class="token operator">&lt;&lt;</span> *it <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	v.erase<span class="token punctuation">(</span>v.begin<span class="token punctuation">(</span><span class="token punctuation">)</span> + <span class="token number">1</span>, v.begin<span class="token punctuation">(</span><span class="token punctuation">)</span> + <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"<span class="token entity" title="\n">\n</span>"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>int<span class="token operator">></span>::iterator it <span class="token operator">=</span> v.begin<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> v.end<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>		cout <span class="token operator">&lt;&lt;</span> *it <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><strong>注意：pos 位置只能是迭代器所在的位置，形式为 v.begin ()+X 或 v.end ()-X</strong></p>
<h2 id="8vector数据存取"><a class="anchor" href="#8vector数据存取">#</a> 8.vector 数据存取</h2>
<p>访问 vector 中的元素：</p>
<ul>
<li>利用中括号方式访问 vector 容器中的元素（同数组）</li>
<li>利用 at 方式访问</li>
</ul>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>vector<span class="token operator">&lt;</span>int<span class="token operator">></span> <span class="token function">v</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>		cout <span class="token operator">&lt;&lt;</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>		cout <span class="token operator">&lt;&lt;</span> v.at<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ul>
<li>访问容器中第一个数据元素和最后一个数据元素：</li>
</ul>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>v.front<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>v.back<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h2 id="9vector互换容器"><a class="anchor" href="#9vector互换容器">#</a> 9.vector 互换容器</h2>
<ul>
<li>实现两个容器内元素进行互换</li>
<li><strong>巧用容器互换可以收缩内存空间</strong></li>
</ul>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>vector<span class="token operator">&lt;</span>int<span class="token operator">></span> <span class="token function">v</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10000</span><span class="token punctuation">;</span> i++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>		v.push_back<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	v.resize<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	cout <span class="token operator">&lt;&lt;</span> v.size<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> v.capacity<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"<span class="token entity" title="\n">\n</span>"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	vector<span class="token operator">&lt;</span>int<span class="token operator">></span> <span class="token punctuation">(</span>v<span class="token punctuation">)</span>.swap<span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	cout <span class="token operator">&lt;&lt;</span> v.size<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> v.capacity<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token builtin class-name">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p><strong>此时 vector&lt;int&gt; (v) 为一个匿名对象，它是用 v 的容量和大小初始化一个匿名对象</strong></p>
<p><strong>vector&lt;int&gt; (v).swap (v) 相当于：用拷贝构造 v 的方式初始化一个匿名对象，再用匿名对象和 v 互换容器，以实现 v 容器的内存空间收缩</strong></p>
<p><strong>PS: 不能写成以下形式，这样会导致重定义</strong></p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>vector<span class="token operator">&lt;</span>int<span class="token operator">></span> <span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>vector<span class="token operator">&lt;</span>int<span class="token operator">></span> <span class="token punctuation">(</span>v<span class="token punctuation">)</span>.swap<span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h2 id="10algorithm库中对vector的常见操作"><a class="anchor" href="#10algorithm库中对vector的常见操作">#</a> 10.algorithm 库中对 vector 的常见操作</h2>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>vector<span class="token operator">&lt;</span>int<span class="token operator">></span> <span class="token function">v</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>sort<span class="token punctuation">(</span>v.begin<span class="token punctuation">(</span><span class="token punctuation">)</span>,v.end<span class="token punctuation">(</span><span class="token punctuation">)</span>,cmp<span class="token punctuation">)</span><span class="token punctuation">;</span> //左闭右开用cmp进行排序</pre></td></tr><tr><td data-num="3"></td><td><pre>reserve<span class="token punctuation">(</span>v.begin<span class="token punctuation">(</span><span class="token punctuation">)</span>,v.end<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span> //左闭右开倒置，但不排序</pre></td></tr></table></figure><ul>
<li>
<p><strong>find (iterator beg,iterator end,value)：按值查找</strong></p>
<ul>
<li>
<p>找到则返回指定位置迭代器，找不到则返回结束迭代器位置</p>
</li>
<li>
<p><strong>如果是一个自定义数据类型，一定要重载 == 号来判断是否相等</strong></p>
</li>
<li>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>vector<span class="token operator">&lt;</span>int<span class="token operator">></span> <span class="token function">v</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	vector<span class="token operator">&lt;</span>int<span class="token operator">></span>::iterator it <span class="token operator">=</span> find<span class="token punctuation">(</span>v.begin<span class="token punctuation">(</span><span class="token punctuation">)</span>, v.end<span class="token punctuation">(</span><span class="token punctuation">)</span>, <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>it <span class="token operator">==</span> v.end<span class="token punctuation">(</span><span class="token punctuation">))</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"查找失败"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token keyword">else</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>		int pos <span class="token operator">=</span> <span class="token punctuation">(</span>it - v.begin<span class="token punctuation">(</span><span class="token punctuation">))</span> + <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"该元素在第"</span> <span class="token operator">&lt;&lt;</span> pos <span class="token operator">&lt;&lt;</span> <span class="token string">"个位置"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li>
</ul>
</li>
<li>
<p><strong>find_if (iterator beg,iterator end,_Pred)：按条件查找元素</strong></p>
<ul>
<li>
<p>找到则返回指定位置迭代器，找不到则返回结束迭代器位置</p>
</li>
<li>
<p><strong>_Pred 是 bool 类型的仿函数</strong></p>
</li>
<li>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>bool jud<span class="token punctuation">(</span>int a<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token builtin class-name">return</span> a <span class="token operator">></span> <span class="token number">7</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li>
<li>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>vector<span class="token operator">&lt;</span>int<span class="token operator">></span>::iterator it <span class="token operator">=</span> find_if<span class="token punctuation">(</span>v.begin<span class="token punctuation">(</span><span class="token punctuation">)</span>, v.end<span class="token punctuation">(</span><span class="token punctuation">)</span>, jud<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>it <span class="token operator">==</span> v.end<span class="token punctuation">(</span><span class="token punctuation">))</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"查找失败"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token keyword">else</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>		int pos <span class="token operator">=</span> <span class="token punctuation">(</span>it - v.begin<span class="token punctuation">(</span><span class="token punctuation">))</span> + <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"大于7的第一个元素在第"</span> <span class="token operator">&lt;&lt;</span> pos <span class="token operator">&lt;&lt;</span> <span class="token string">"个位置"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h1 id="map"><a class="anchor" href="#map">#</a> Map</h1>
<ul>
<li>map 中所有元素都是 pair
<ul>
<li>pair 中的第一个元素是 key，每一个 key 只能在 map 中出现一次。</li>
<li>pair 中的第二个元素是该 key 的 value。</li>
</ul>
</li>
<li>map 内部构造是红黑树，map 中有默认排序，是按照 key 的升序来排序的。</li>
</ul>
<h2 id="1-定义map"><a class="anchor" href="#1-定义map">#</a> 1. 定义 map</h2>
<ul>
<li>
<p>map 接受三个参数 &lt;T,T,bool&gt;，第一个参数是 key 的数据类型，第二个参数是 value 的数据类型，第三个参数是排序规则，默认为按 key 的升序排序。</p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>map<span class="token operator">&lt;</span>int,int<span class="token operator">></span> mp<span class="token punctuation">;</span></pre></td></tr></table></figure></li>
</ul>
<h2 id="2-遍历方式"><a class="anchor" href="#2-遍历方式">#</a> 2. 遍历方式</h2>
<p><strong>可通过迭代器访问其元素：mp.begin ()-&gt;first, mp.end ()-&gt;second</strong></p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>for<span class="token punctuation">(</span>map<span class="token operator">&lt;</span>int,int<span class="token operator">></span>::iterator it <span class="token operator">=</span> mp.begin<span class="token punctuation">(</span><span class="token punctuation">)</span>,it<span class="token operator">!=</span>mp.end<span class="token punctuation">(</span><span class="token punctuation">)</span>,it++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	cout <span class="token operator">&lt;&lt;</span> it-<span class="token operator">></span>first <span class="token operator">&lt;&lt;</span> it-<span class="token operator">></span>second <span class="token operator">&lt;&lt;</span> <span class="token string">"<span class="token entity" title="\n">\n</span>"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>其中<strong> it-&gt;first</strong> 为 key，<strong>it-&gt;second</strong> 为该 key 的值</p>
<h2 id="3-map插入和删除"><a class="anchor" href="#3-map插入和删除">#</a> 3. Map 插入和删除</h2>
<ul>
<li>
<p>使用 insert () 添加元素</p>
<ul>
<li>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>map<span class="token operator">&lt;</span>string,int<span class="token operator">></span> mp<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>mp.insert<span class="token punctuation">(</span>pair<span class="token operator">&lt;</span>string,int<span class="token operator">></span><span class="token punctuation">(</span><span class="token string">"nb"</span>,612<span class="token punctuation">))</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li>
</ul>
</li>
<li>
<p>使用数组下标添加元素</p>
<ul>
<li>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>map<span class="token operator">&lt;</span>string,int<span class="token operator">></span> mp<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>mp<span class="token punctuation">[</span><span class="token string">"nb"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">612</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>map<span class="token operator">&lt;</span>string, int<span class="token operator">></span> mp<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>//通过mp.insert<span class="token punctuation">(</span><span class="token punctuation">)</span>添加元素</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    string key<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    int value<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    cin <span class="token operator">>></span> key<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    cin <span class="token operator">>></span> value<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    mp.insert<span class="token punctuation">(</span>pair<span class="token operator">&lt;</span>string, int<span class="token operator">></span><span class="token punctuation">(</span>key, value<span class="token punctuation">))</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>//通过数组下标添加元素</pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    string key<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    int value<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    cin <span class="token operator">>></span> key<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    cin <span class="token operator">>></span> value<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    mp<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ul>
<li>删除元素用 erase ();
<ul>
<li>mp.erase (key)，括号里可以是 key 值。</li>
<li>mp.erase (mp.begin (),mp.end ())，括号里也可以是迭代器</li>
</ul>
</li>
</ul>
<h2 id="4-map查找"><a class="anchor" href="#4-map查找">#</a> 4. Map 查找</h2>
<ul>
<li>
<p><strong>按 key 查找：</strong></p>
</li>
<li>
<p><strong>find (key) 函数，查找成功则返回迭代器位置，不成功则返回 mp.end () 位置</strong></p>
</li>
<li>
<p><strong>count (key) 函数，查找成功则返回 1，不成功则返回 0</strong></p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>map<span class="token operator">&lt;</span>string,int<span class="token operator">></span> mp<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>map<span class="token operator">&lt;</span>string,int<span class="token operator">></span>::iterator it <span class="token operator">=</span> mp.find<span class="token punctuation">(</span><span class="token string">"nb"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>if<span class="token punctuation">(</span>it<span class="token operator">!=</span>mp.end<span class="token punctuation">(</span><span class="token punctuation">))</span> cout <span class="token operator">&lt;&lt;</span> it-<span class="token operator">></span>second<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>cout <span class="token operator">&lt;&lt;</span> count<span class="token punctuation">(</span><span class="token string">"nnb"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li>
</ul>
<h2 id="5-map排序"><a class="anchor" href="#5-map排序">#</a> 5. Map 排序</h2>
<ul>
<li><strong>在 map 中的排序是基于按照 key 来排序的，所以无法对 value 直接进行排序，如果想对 value 进行排序，需要用到 vector 容器以及 sort 函数，还有自定义的排序规则。</strong></li>
</ul>
<h1 id="dp"><a class="anchor" href="#dp">#</a> DP</h1>
<p>将原问题分解为相对简单的子问题</p>
<p>动态规划问题的一般形式就是求最值</p>
<p><strong>DP 三大性质：</strong></p>
<ul>
<li>最优子结构：当问题的最优解包含了其子问题的最优解时，称该问题具有最优子结构性质。</li>
<li>重叠子问题：子问题被反复计算多次</li>
<li>无后效性：一旦一个子问题的求解得到结果，以后的计算过程就不会修改它</li>
</ul>
<p><strong>DP 解题方法：</strong></p>
<ul>
<li>自顶向下：记忆化递归</li>
<li>自底向上：递推</li>
</ul>
<p>对于动态规划，无非就是利用<strong>历史记录</strong>，来避免我们的重复计算。而这些<strong>历史记录</strong>，我们得需要一些<strong>变量</strong>来保存，一般是用<strong>一维数组</strong>或者<strong>二维数组</strong>来保存。</p>
<p><strong>DP 设计基本步骤：</strong></p>
<p>1. 数组元素的含义：dp []，如自底向上，dp [n] 就代表第 n 项的值</p>
<p>2. 找状态转移方程</p>
<p>3. 初始值：找 dp 中的边界情况</p>
<h1 id="前缀和"><a class="anchor" href="#前缀和">#</a> 前缀和</h1>
<p><strong>前缀和</strong>：序列<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><msub><mi>a</mi><mi>n</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{a_n\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span> 的前缀和定义为一个序列<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><msub><mi>S</mi><mi>n</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{S_n\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span>，其中<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mi>i</mi></msub><mo>=</mo><msub><mo>∑</mo><mrow><mn>1</mn><mo>≤</mo><mi>x</mi><mo>≤</mo><mi>i</mi></mrow></msub><msub><mi>a</mi><mi>x</mi></msub></mrow><annotation encoding="application/x-tex">S_i = \sum_{1\leq x\leq i} a_x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1449em;vertical-align:-0.3949em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.162em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">≤</span><span class="mord mathnormal mtight">x</span><span class="mrel mtight">≤</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3949em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p>
<hr />
<p>ps：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><msub><mi>S</mi><mi>n</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{S_n\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span> 的第 n 项就是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><msub><mi>a</mi><mi>n</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{a_n\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span> 的前 n 项和</p>
<p><strong>前缀和性质：</strong> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mi>x</mi></msub><mo>−</mo><msub><mi>S</mi><mrow><mi>x</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>=</mo><msub><mi>a</mi><mi>x</mi></msub></mrow><annotation encoding="application/x-tex">S_x - S_{x-1} = a_x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8917em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p>
<p><strong>求法</strong>：<strong>递推</strong>：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo><mo>=</mo><mi>a</mi><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo><mtext>，</mtext><msub><mi>S</mi><mi>i</mi></msub><mo>=</mo><msub><mi>S</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">S[1]=a[1]，S_i = S_{i-1} + a_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span><span class="mord cjk_fallback">，</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8917em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p>
<blockquote>
<p>预处理出前缀和，时间复杂度为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></p>
</blockquote>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>for<span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>i-1<span class="token punctuation">]</span> + a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>e.g. <strong>计算区间和</strong></p>
<blockquote>
<p>给定 n 个正整数组成的数列<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>a</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">a_1,a_2,\dots,a_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 m 个区间<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msub><mi>l</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>i</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[l_i,r_i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0197em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>，分别求这 m 个区间的区间和。数据范围：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>n</mi><mo separator="true">,</mo><mi>m</mi><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup><mo separator="true">,</mo><mn>1</mn><mo>≤</mo><msub><mi>a</mi><mi>i</mi></msub><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>4</mn></msup></mrow><annotation encoding="application/x-tex">1\leq n,m \leq 10^5 , 1\leq a_i \leq 10^4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0085em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.786em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span></span></span></span></p>
</blockquote>
<h1 id="差分"><a class="anchor" href="#差分">#</a> 差分</h1>
<p><strong>差分：</strong> 序列<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><msub><mi>a</mi><mi>n</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{a_n\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span> 的<strong>差分序列</strong>定义为一个新的数列<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><msub><mi>c</mi><mi>n</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{c_n\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span>，其中<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>c</mi><mn>1</mn></msub><mo>=</mo><msub><mi>a</mi><mn>1</mn></msub><mtext>，</mtext><msub><mi>c</mi><mi>i</mi></msub><mo>=</mo><msub><mi>a</mi><mi>i</mi></msub><mo>−</mo><msub><mi>a</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">c_1=a_1，c_i=a_i-a_{i-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">，</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span></span> (i &gt; 1)。</p>
<ul>
<li>差分是前缀和的逆运算。<strong>前缀和</strong>做差分就是原序列，<strong> 差分</strong>做前缀和也是原序列。</li>
</ul>
<blockquote>
<p>预处理出差分，时间复杂度为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></p>
</blockquote>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>c<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>for<span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n <span class="token punctuation">;</span> i++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	c<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> - a<span class="token punctuation">[</span>i-1<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><strong>原序列、前缀和、差分一一对应</strong></p>
<p>e.g. 区间加法 (在原序列区间 [l,r] 上元素 +=v)</p>
<blockquote>
<p>给定 n 个正整数组成的数列<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>a</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">a_1,a_2,\dots,a_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 m 个操作<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msub><mi>l</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>i</mi></msub><mo stretchy="false">]</mo><mo separator="true">,</mo><msub><mi>v</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">[l_i,r_i],v_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0197em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，第 i 个操作代表将区间<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msub><mi>l</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>i</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[l_i,r_i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0197em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span> 的数增加<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">v_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，求 m 次操作后的全局最小值。数据范围：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>m</mi><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>5</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>6</mn></msup><mo separator="true">,</mo><mtext>  </mtext><mn>1</mn><mo>≤</mo><msub><mi>a</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>v</mi><mi>i</mi></msub><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">1\leq m \leq n \leq 5 \times 10^6,\ \ 1\leq a_i,v_i\leq 10^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0085em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace"> </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></p>
</blockquote>
<p><strong>差分上只有区间第一个元素、最后一个元素的后一个位置改变</strong></p>
<ul>
<li>c[l] += v;</li>
<li>c[r+1] -= v;</li>
</ul>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">#include &lt;bits/stdc++.h></span></pre></td></tr><tr><td data-num="2"></td><td><pre>using namespace std<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>const int N <span class="token operator">=</span> 5e6+5<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>int <span class="token function-name function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	ios::sync_with_stdio<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>, cin.tie<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>, cout.tie<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	int arr<span class="token punctuation">[</span>N<span class="token punctuation">]</span>, n, m, l, r, v, dif<span class="token punctuation">[</span>N<span class="token punctuation">]</span>, min <span class="token operator">=</span> 1e9<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	cin <span class="token operator">>></span> n <span class="token operator">>></span> m<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>		cin <span class="token operator">>></span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    //预留第n+1项，作差分</pre></td></tr><tr><td data-num="15"></td><td><pre>	dif<span class="token punctuation">[</span>n + <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>		dif<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> - arr<span class="token punctuation">[</span>i - <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> i++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>		cin <span class="token operator">>></span> l <span class="token operator">>></span> r <span class="token operator">>></span> <span class="token function">v</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>		dif<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token function">v</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>		dif<span class="token punctuation">[</span>r + <span class="token number">1</span><span class="token punctuation">]</span> -<span class="token operator">=</span> <span class="token function">v</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>    //前缀和恢复+找最小值</pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>		arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> dif<span class="token punctuation">[</span>i<span class="token punctuation">]</span> + arr<span class="token punctuation">[</span>i - <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>min <span class="token operator">></span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> min <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	cout <span class="token operator">&lt;&lt;</span> min<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token builtin class-name">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><strong>维护 m 次区间加</strong>思路：</p>
<ul>
<li>
<p>做出原序列差分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></p>
</li>
<li>
<p>在差分序列上作区间 m 次修改 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(m)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mclose">)</span></span></span></span></p>
</li>
<li>
<p>用修改后的差分序列作前缀和恢复序列 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></p>
</li>
<li>
<p>扫一遍序列找最值</p>
</li>
</ul>
<p>e.g.<strong> 区间加等差数列</strong>（维护原序列的二次差分）</p>
<blockquote>
<p>对于一个全 0 长度为 n 的序列，每次可以选择一个位置 x 和一个值 L，使<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>+</mo><mo>=</mo><mi>L</mi><mo>+</mo><mi>i</mi><mo>−</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">a[i]+=L+i-x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mord">+</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7429em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></p>
</blockquote>
<ul>
<li>在二维差分上区间加等差数列对应常数个单点加。</li>
<li>每次操作为对区间 [n-L+1,n] 加上一个等差数列<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mi>L</mi></mrow><annotation encoding="application/x-tex">1,2,\dots,L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">L</span></span></span></span> 或<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>1</mn><mo separator="true">,</mo><mo>−</mo><mn>2</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mo>−</mo><mi>L</mi></mrow><annotation encoding="application/x-tex">-1,-2,\dots,-L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord">−</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">−</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">−</span><span class="mord mathnormal">L</span></span></span></span></li>
<li>做二次差分之后为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo separator="true">,</mo><mn>0</mn><mo separator="true">,</mo><mn>0</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">1,0,0,\dots,0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span></span></span></span> 或<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>1</mn><mo separator="true">,</mo><mn>0</mn><mo separator="true">,</mo><mn>0</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">-1,0,0,\dots,0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">−</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span></span></span></span></li>
<li>目标序列的二次差分为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo separator="true">,</mo><mn>0</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">0,0,\dots,0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span></span></span></span></li>
</ul>
<p>一般等差数列：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo separator="true">,</mo><mtext> </mtext><mi>a</mi><mo separator="true">,</mo><mtext> </mtext><mi>a</mi><mo>+</mo><mi>d</mi><mo separator="true">,</mo><mtext> </mtext><mi>a</mi><mo>+</mo><mn>2</mn><mi>d</mi><mo separator="true">,</mo><mtext> </mtext><mo>…</mo><mo separator="true">,</mo><mtext> </mtext><mi>a</mi><mo>+</mo><mo stretchy="false">(</mo><mi>k</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mi>d</mi></mrow><annotation encoding="application/x-tex">0,\ a,\ a+d,\ a+2d,\ \dots,\ a+(k-1)d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">d</span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">2</span><span class="mord mathnormal">d</span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mord mathnormal">d</span></span></span></span> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="yellow"><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mstyle></mrow><annotation encoding="application/x-tex">\textcolor{yellow}{(0,0)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen" style="color:yellow;">(</span><span class="mord" style="color:yellow;">0</span><span class="mpunct" style="color:yellow;">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord" style="color:yellow;">0</span><span class="mclose" style="color:yellow;">)</span></span></span></span></p>
<p>一次差分之后：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo separator="true">,</mo><mtext> </mtext><mi>a</mi><mo separator="true">,</mo><mtext> </mtext><mi>d</mi><mo separator="true">,</mo><mtext> </mtext><mi>d</mi><mo separator="true">,</mo><mtext> </mtext><mo>…</mo><mo separator="true">,</mo><mtext> </mtext><mi>d</mi></mrow><annotation encoding="application/x-tex">0,\ a,\ d,\ d,\ \dots,\ d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span></span></span></span> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="yellow"><mo stretchy="false">(</mo><mo>−</mo><mi>a</mi><mo>−</mo><mo stretchy="false">(</mo><mi>k</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mi>d</mi><mo separator="true">,</mo><mtext> </mtext><mn>0</mn><mo stretchy="false">)</mo></mstyle></mrow><annotation encoding="application/x-tex">\textcolor{yellow}{(-a-(k-1)d,\  0)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen" style="color:yellow;">(</span><span class="mord" style="color:yellow;">−</span><span class="mord mathnormal" style="color:yellow;">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin" style="color:yellow;">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen" style="color:yellow;">(</span><span class="mord mathnormal" style="margin-right:0.03148em;color:yellow;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin" style="color:yellow;">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord" style="color:yellow;">1</span><span class="mclose" style="color:yellow;">)</span><span class="mord mathnormal" style="color:yellow;">d</span><span class="mpunct" style="color:yellow;">,</span><span class="mspace" style="color:yellow;"><span style="color:yellow;"> </span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord" style="color:yellow;">0</span><span class="mclose" style="color:yellow;">)</span></span></span></span></p>
<p>二次差分之后：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo separator="true">,</mo><mtext> </mtext><mi>a</mi><mo separator="true">,</mo><mtext> </mtext><mi>d</mi><mo>−</mo><mi>a</mi><mtext> </mtext><mo separator="true">,</mo><mn>0</mn><mtext> </mtext><mo>…</mo><mo separator="true">,</mo><mtext> </mtext><mn>0</mn></mrow><annotation encoding="application/x-tex">0,\ a,\ d-a\ ,0\ \dots,\ 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">a</span><span class="mspace"> </span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span></span></span></span> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="yellow"><mo stretchy="false">(</mo><mo>−</mo><mi>a</mi><mo>−</mo><mi>k</mi><mi>d</mi><mo separator="true">,</mo><mtext> </mtext><mi>a</mi><mo>+</mo><mo stretchy="false">(</mo><mi>k</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mi>d</mi><mo stretchy="false">)</mo></mstyle></mrow><annotation encoding="application/x-tex">\textcolor{yellow}{(-a-kd,\ a+(k-1)d)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen" style="color:yellow;">(</span><span class="mord" style="color:yellow;">−</span><span class="mord mathnormal" style="color:yellow;">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin" style="color:yellow;">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;color:yellow;">k</span><span class="mord mathnormal" style="color:yellow;">d</span><span class="mpunct" style="color:yellow;">,</span><span class="mspace" style="color:yellow;"><span style="color:yellow;"> </span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="color:yellow;">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin" style="color:yellow;">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen" style="color:yellow;">(</span><span class="mord mathnormal" style="margin-right:0.03148em;color:yellow;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin" style="color:yellow;">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord" style="color:yellow;">1</span><span class="mclose" style="color:yellow;">)</span><span class="mord mathnormal" style="color:yellow;">d</span><span class="mclose" style="color:yellow;">)</span></span></span></span></p>
<h1 id="二分答案"><a class="anchor" href="#二分答案">#</a> 二分答案</h1>
<p><strong>二分模板</strong></p>
<p><strong>不要漏掉 else！</strong></p>
<ul>
<li>手搓二分查找</li>
</ul>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>//二分查找</pre></td></tr><tr><td data-num="2"></td><td><pre>int findpos<span class="token punctuation">(</span>ll a<span class="token punctuation">[</span>N<span class="token punctuation">]</span>, int n, ll x<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	int l <span class="token operator">=</span> <span class="token number">0</span>, r <span class="token operator">=</span> n<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>		int mid <span class="token operator">=</span> <span class="token punctuation">(</span>l + r<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">>=</span> x<span class="token punctuation">)</span> r <span class="token operator">=</span> mid<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>		<span class="token keyword">else</span> l <span class="token operator">=</span> mid + <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">!=</span> x<span class="token punctuation">)</span>	<span class="token builtin class-name">return</span> -1<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">else</span> <span class="token builtin class-name">return</span> l + <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ul>
<li><strong>往左找答案</strong></li>
</ul>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>while<span class="token punctuation">(</span>l<span class="token operator">&lt;</span>r<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	int mid <span class="token operator">=</span> <span class="token punctuation">(</span>l+r<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	if<span class="token punctuation">(</span>check<span class="token punctuation">(</span>mid<span class="token punctuation">))</span> r <span class="token operator">=</span> mid<span class="token punctuation">;</span> //check<span class="token punctuation">(</span><span class="token punctuation">)</span>判断mid是否满足性质</pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">else</span> l <span class="token operator">=</span> mid + <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ul>
<li><strong>往右找答案</strong> 注意：mid = (l+r+1) &gt;&gt; 1;<strong> 不然会超时</strong></li>
</ul>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>while<span class="token punctuation">(</span>l<span class="token operator">&lt;</span>r<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	int mid <span class="token operator">=</span> <span class="token punctuation">(</span>l+r+1<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="4"></td><td><pre>	if<span class="token punctuation">(</span>check<span class="token punctuation">(</span>mid<span class="token punctuation">))</span> l <span class="token operator">=</span> mid<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">else</span> r <span class="token operator">=</span> mid - <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ul>
<li><strong>浮点二分</strong> 注意：需保证精度</li>
</ul>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>while<span class="token punctuation">(</span>r-l<span class="token operator">></span>1e-5<span class="token punctuation">)</span> //保证精度</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	double mid <span class="token operator">=</span> <span class="token punctuation">(</span>l+r<span class="token punctuation">)</span>/2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	if<span class="token punctuation">(</span>check<span class="token punctuation">(</span>mid<span class="token punctuation">))</span> l <span class="token operator">=</span> mid<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">else</span> r <span class="token operator">=</span> mid<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><blockquote>
<p>一元三次方程求解</p>
</blockquote>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>int <span class="token function-name function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	ios::sync_with_stdio<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>, cin.tie<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>, cout.tie<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	cin <span class="token operator">>></span> a <span class="token operator">>></span> b <span class="token operator">>></span> c <span class="token operator">>></span> d<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	int cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span>double i <span class="token operator">=</span> -100<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">;</span> i++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>f<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>			cnt++<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>			cout <span class="token operator">&lt;&lt;</span> fixed <span class="token operator">&lt;&lt;</span> setprecision<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>f<span class="token punctuation">(</span>i<span class="token punctuation">)</span> * f<span class="token punctuation">(</span>i + <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>			cout <span class="token operator">&lt;&lt;</span> fixed <span class="token operator">&lt;&lt;</span> setprecision<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> findx<span class="token punctuation">(</span>i, i + <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token builtin class-name">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><hr />
<p><strong>二分答案与二分查找的区别：</strong></p>
<ul>
<li>二分查找是在一个<strong>已知的有序数据集</strong>上进行二分地查找</li>
<li>二分答案是，答案有一个区间，在这个区间中二分查找，直到找到最优答案。</li>
</ul>
<hr />
<p>二分答案：答案属于一个区间，当这个区间很大时，暴力超时。但重要的是 ——<strong> 这个区间是对题目中的某个量有单调性的</strong>，此时，我们就会二分答案。每一次二分会做一次判断，看是否对应的那个量达到了需要的大小。</p>
<ul>
<li>判断：根据题意写个<strong> check 函数</strong>，如果满足 check，就放弃右半区间（或左半区间），如果不满足，就放弃左半区间（或右半区间）。一直往复，直至到最终的答案。</li>
</ul>
<p><img loading="lazy" data-src="C:%5CUsers%5C27644%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20240409221935707.png" alt="image-20240409221935707" /></p>
<ul>
<li>还有一个典型特征：<strong>求... 最大值的最小</strong>，<strong>求... 最小值的最大</strong>
<ul>
<li>求... 最大值的最小，二分答案 (二分最大值) 时，尽量让答案往前走 (r=mid)</li>
<li>求... 最小值的最大，二分答案 (二分最小值) 时，尽量让答案往后走 (l=mid)</li>
</ul>
</li>
</ul>
<hr />
<ul>
<li>二分不止可以在具体的数组中进行</li>
<li>在许多最优化问题中，如果可以取得的解连续，则可以通过在值域上进行二分，把问题转化为对判定性问题的询问</li>
<li>有一条分界线，左边或右边全部可行</li>
</ul>
<p>e.g. 木材加工</p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>bool check<span class="token punctuation">(</span>int x<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	ll cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>		cnt <span class="token operator">+=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> / x<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>cnt <span class="token operator">>=</span> k<span class="token punctuation">)</span> <span class="token builtin class-name">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token builtin class-name">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>int <span class="token function-name function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	ios::sync_with_stdio<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>, cin.tie<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>, cout.tie<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	cin <span class="token operator">>></span> n <span class="token operator">>></span> k<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>		cin <span class="token operator">>></span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	ll l <span class="token operator">=</span> <span class="token number">0</span>, r <span class="token operator">=</span> 1e8 + <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>		ll mid <span class="token operator">=</span> <span class="token punctuation">(</span>l + r + <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>check<span class="token punctuation">(</span>mid<span class="token punctuation">))</span> l <span class="token operator">=</span> mid<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>		<span class="token keyword">else</span> r <span class="token operator">=</span> mid - <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	cout <span class="token operator">&lt;&lt;</span> l<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token builtin class-name">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><strong>注意：由于不知道长度范围，所以 r 应取大数据</strong></p>
<hr />
<p><strong>最短距离最大化</strong>：二分的是最短距离，因此要保证任意区间长度 &gt;=mid (mid 也是最短距离)。</p>
<p><strong>最长距离最小化</strong>：二分的是最长距离，因此要保证任意区间长度 &lt;=mid (mid 也是最长距离)。</p>
<p>e.g. 数列分段</p>
<blockquote>
<p>给定一个长度为 n 的序列 a，将其划分为 m 段，最小化这 m 个段落和的最大值。(段落和定义为段落内数值相加之和)</p>
</blockquote>
<ul>
<li>
<p>每个段落和都小于等于 k，题意即求 k 的最小值 x, 每个段落和也必定会小于等于 x、x+1、x+2、x+...，但对于 x-2、x-1 则不满足条件</p>
</li>
<li>
<p>二分答案：x-3 x-2 x-1 x x+1 x+2 x+3，对于满足段落和小于等于 x 的位置都设为 1，不满足条件的则为 0，即有：</p>
<table>
<thead>
<tr>
<th>x-3</th>
<th>x-2</th>
<th>x-1</th>
<th>x</th>
<th>x+1</th>
<th>x+2</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>此时我们只需<strong>二分查找</strong>找到第一个<strong> 1</strong>，即找到了 x。</p>
<p>我们需要判定能不能分出 m 段，使 m 段和都小于等于 mid。</p>
<p>根据题意，段落和均小于等于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∑</mo><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\sum a_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p>
<p>开始<strong>贪心</strong>。</p>
</li>
</ul>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">#include &lt;bits/stdc++.h></span></pre></td></tr><tr><td data-num="2"></td><td><pre>using namespace std<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>typedef long long ll<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>const int N <span class="token operator">=</span> 1e5 + <span class="token number">7</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>int n, m, a<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>ll <span class="token function">sum</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>bool check<span class="token punctuation">(</span>int x<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	ll cnt <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	ll s <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>		s <span class="token operator">+=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>s + a<span class="token punctuation">[</span>i+1<span class="token punctuation">]</span> <span class="token operator">></span> x<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>			cnt++<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>			s <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>cnt <span class="token operator">&lt;=</span> m<span class="token punctuation">)</span> <span class="token builtin class-name">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token builtin class-name">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>int <span class="token function-name function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	ios::sync_with_stdio<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>, cin.tie<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>, cout.tie<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	cin <span class="token operator">>></span> n <span class="token operator">>></span> m<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	int max <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>		cin <span class="token operator">>></span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>		<span class="token function">sum</span> <span class="token operator">+=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>max <span class="token operator">&lt;</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> max <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	int l <span class="token operator">=</span> max, r <span class="token operator">=</span> <span class="token function">sum</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>		int mid <span class="token operator">=</span> <span class="token punctuation">(</span>l + r<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>check<span class="token punctuation">(</span>mid<span class="token punctuation">))</span> r <span class="token operator">=</span> mid<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>		<span class="token keyword">else</span> l <span class="token operator">=</span> mid + <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	cout <span class="token operator">&lt;&lt;</span> l<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>	<span class="token builtin class-name">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h1 id="背包问题"><a class="anchor" href="#背包问题">#</a> 背包问题</h1>
<h2 id="一-01背包"><a class="anchor" href="#一-01背包">#</a> 一、01 背包</h2>
<blockquote>
<p>有  <code>N</code>  件物品和一个容量是  <code>V</code>  的背包。<strong>每件物品只能使用一次</strong>。第  <code>i</code>  件物品的体积是  <code>vi</code> ，价值是  <code>wi</code>  。<br />
求解将哪些物品装入背包，可使这些物品的总体积不超过背包容量，且总价值最大。<br />
输出最大价值。</p>
</blockquote>
<p><strong>状态表示：</strong> <mark>f[i][j]</mark>：表示从前 i 件物品选，体积不超过 j 的物品总最大价值</p>
<p><strong>状态转移</strong>：<strong>找最后一步：“之前到现在”</strong>，转移的问题就是<strong>当前物品选不选</strong></p>
<p>（1）不选当前物品（第 i 件）：<mark>f[i][j] = f[i-1][j]</mark></p>
<p>(2) 选当前物品：<mark>f[i][j] = f[i-1][j-v[i]] + w[i]</mark></p>
<p>其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">[</mo><mi>i</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>j</mi><mo>−</mo><mi>v</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">f[i-1][j-v[i]]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]]</span></span></span></span> 为前 i-1 件物品的最大价值，由于前 i 件物品总体积不超过 j，而第 i 件物品体积为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">v[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span>，则前 i-1 件物品体积不超过 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi><mo>−</mo><mi>v</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">j-v[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span>.</p>
<p>前提要 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi><mo>−</mo><mi>v</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>≥</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">j-v[i] \geq 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>，这样才装得下当前物品。</p>
<p>故<strong>状态转移方程</strong>为：<mark>f[i][j] = max{f[i-1][j],f[i-1][j-v[i]]+w[i]}</mark></p>
<hr />
<p><strong>01 背包模板：</strong></p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">#include &lt;bits/stdc++.h></span></pre></td></tr><tr><td data-num="2"></td><td><pre>const int N <span class="token operator">=</span> 1e3 + <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>using namespace std<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>int v<span class="token punctuation">[</span>N<span class="token punctuation">]</span>, w<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>int f<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>int n, <span class="token function">sum</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>int <span class="token function-name function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	ios::sync_with_stdio<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>, cin.tie<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>, cout.tie<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	cin <span class="token operator">>></span> n <span class="token operator">>></span> <span class="token function">sum</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i++<span class="token punctuation">)</span> cin <span class="token operator">>></span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">>></span> w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>		<span class="token keyword">for</span> <span class="token punctuation">(</span>int j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> <span class="token function">sum</span><span class="token punctuation">;</span> j++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>			//装得下</pre></td></tr><tr><td data-num="17"></td><td><pre>			<span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">>=</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre>			<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>				f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> max<span class="token punctuation">(</span>f<span class="token punctuation">[</span>i - <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span>, f<span class="token punctuation">[</span>i - <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j - v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> + w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>			//装不下</pre></td></tr><tr><td data-num="22"></td><td><pre>			<span class="token keyword">else</span> f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> f<span class="token punctuation">[</span>i - <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	cout <span class="token operator">&lt;&lt;</span> f<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span>sum<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token builtin class-name">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h1 id="贪心"><a class="anchor" href="#贪心">#</a> 贪心</h1>
<ul>
<li>
<p><strong>贪心算法</strong>（又称贪婪算法）是指，在对问题求解时，总是做出<strong>在当前看来是最好的选择</strong>。也就是说，<strong>不从整体最优上加以考虑</strong>，他所做出的是在某种意义上的<strong>局部最优解</strong>。</p>
</li>
<li>
<p>贪心选择是指所求问题的<strong>整体最优解</strong>可以通过<strong>一系列局部最优的选择</strong>，即贪心选择来达到。这是贪心算法可行的第一个基本要素。</p>
</li>
</ul>
<hr />
<ul>
<li>
<p>基本思路：贪心算法的基本思路是<strong>从问题的某一个初始解出发一步一步地进行</strong>，<strong>根据某个优化测度</strong>，每一步都要确保能获得局部最优解。每一步只考虑一个数据，他的选取应该满足局部优化的条件。<mark>若下一个数据和部分最优解连在一起不再是可行解时，就不把该数据添加到部分解中，直到把所有数据枚举完，或者不能再添加算法停止。</mark></p>
</li>
<li>
<p><strong>当一个问题的最优解包含其子问题的最优解时</strong>，称此问题具有最优子结构性质。运用贪心策略在每一次转化时都取得了最优解。问题的最优子结构性质是该问题可用贪心算法求解的关键特征。贪心算法的每一次操作都对结果产生直接影响。贪心算法对每个子问题的解决方案都做出选择，不能回退。</p>
</li>
<li>
<p>当发现<strong>一个问题的解决只需要考虑最优子结构的问题</strong>即可，即<mark>每一步最优，不需要考虑整体</mark>，而这时候就可以用贪心算法来解决问题。</p>
</li>
</ul>
<p>e.g. 跳跃游戏</p>
<blockquote>
<p>给你一个非负整数数组  <code>nums</code>  ，你最初位于数组的 <strong>第一个下标</strong> 。数组中的每个元素代表你在该位置可以跳跃的最大长度。</p>
<p>判断你是否能够到达最后一个下标，如果可以，返回  <code>true</code>  ；否则，返回  <code>false</code>  。</p>
<pre><code>输入：nums = [2,3,1,1,4]
输出：true
解释：可以先跳 1 步，从下标 0 到达下标 1, 然后再从下标 1 跳 3 步到达最后一个下标。
</code></pre>
</blockquote>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>int <span class="token function-name function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	ios::sync_with_stdio<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>, cin.tie<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>, cout.tie<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	cin <span class="token operator">>></span> n<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	int rightmost <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>		cin <span class="token operator">>></span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> rightmost<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>			rightmost <span class="token operator">=</span> max<span class="token punctuation">(</span>rightmost, i + nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> //寻找最远距离</pre></td></tr><tr><td data-num="15"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>rightmost <span class="token operator">>=</span> n - <span class="token number">1</span><span class="token punctuation">)</span> <span class="token builtin class-name">return</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token builtin class-name">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><strong>遍历整个数组，如果当前位置能到达，且当前位置 + 跳数 &gt; 最远位置，则更新最远位置，最后比较最远位置和数组长度</strong></p>
<h1 id="离散化"><a class="anchor" href="#离散化">#</a> 离散化</h1>
<ul>
<li>离散化是一种思想。具体来讲，就是把大范围的一系列离散的数值映射到一个更小范围内的离散的数值上。</li>
<li>在许多题目中，我们关心的并不是完整的值域，而是值域内的一部分离散的点，这时候<strong>采用离散化对其重新编号后只关心这些离散的点</strong>，可以降低复杂度。</li>
</ul>
<p>e.g. 统计数字（模板）</p>
<blockquote>
<p>给定一个长度为 n 的序列 {a}，已知不相同的数不超过<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>4</mn></msup></mrow><annotation encoding="application/x-tex">10^4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span></span></span></span> 个，要求统计每种自然数出现的次数。</p>
<p>数据范围：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>≤</mo><mn>2</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>6</mn></msup><mo separator="true">,</mo><msub><mi>a</mi><mi>i</mi></msub><mo>≤</mo><mn>1.5</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">n\leq 2\times 10^6,a_i\leq1.5\times10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0085em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1.5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span></p>
</blockquote>
<p>例如：f (2)=1，f (4)=2，f (5)=3，f (100)=4</p>
<p><strong>离散化</strong>实现两种方法：</p>
<ul>
<li><strong>排序去重 + 二分</strong></li>
<li><strong>set&amp;map</strong></li>
</ul>
<h2 id="一排序去重二分"><a class="anchor" href="#一排序去重二分">#</a> （一）排序去重 + 二分</h2>
<h2 id="数组版"><a class="anchor" href="#数组版">#</a> 数组版</h2>
<ul>
<li>去重之前需排序</li>
</ul>
<p>用<mark> unique (first,last)<mark> 函数实现，此函数的作用是将重复的元素放到容器的末尾，返回值是<strong>去重后的末尾地址</strong>，因此去重后的长度为</mark> int m = unique (b,b+n)-b</mark>，数组中去重后的区间为 [0,m）</p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">#include &lt;bits/stdc++.h></span></pre></td></tr><tr><td data-num="2"></td><td><pre>using namespace std<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>const int N <span class="token operator">=</span> 1e6 + <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>int a<span class="token punctuation">[</span>N<span class="token punctuation">]</span>, b<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>int <span class="token function-name function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	ios::sync_with_stdio<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>, cin.tie<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>, cout.tie<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	int n<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	cin <span class="token operator">>></span> n<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>		cin <span class="token operator">>></span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>		b<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    //防止原数组a<span class="token punctuation">[</span>N<span class="token punctuation">]</span>被破坏，单独开一个b<span class="token punctuation">[</span>N<span class="token punctuation">]</span>来做离散化</pre></td></tr><tr><td data-num="16"></td><td><pre>	sort<span class="token punctuation">(</span>b, b + n<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	int m <span class="token operator">=</span> unique<span class="token punctuation">(</span>b, b + n<span class="token punctuation">)</span> - b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> i++<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>		cout <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token builtin class-name">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ul>
<li>
<p>去完重之后需找到映射关系，数与下标即为映射关系，这时候用<strong>二分来查找</strong></p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>//值映射到编号，找下标</pre></td></tr><tr><td data-num="2"></td><td><pre>int id<span class="token punctuation">(</span>int val<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token builtin class-name">return</span> lower_bound<span class="token punctuation">(</span>b, b + m, val<span class="token punctuation">)</span> - b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>//编号找值</pre></td></tr><tr><td data-num="7"></td><td><pre>int val<span class="token punctuation">(</span>int <span class="token function">id</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token builtin class-name">return</span> b<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li>
</ul>
<h2 id="vector版"><a class="anchor" href="#vector版">#</a> vector 版</h2>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">#include &lt;bits/stdc++.h></span></pre></td></tr><tr><td data-num="2"></td><td><pre>using namespace std<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>vector<span class="token operator">&lt;</span>int<span class="token operator">></span> a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>int n<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>int <span class="token function-name function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	ios::sync_with_stdio<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>, cin.tie<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>, cout.tie<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	cin <span class="token operator">>></span> n<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	sort<span class="token punctuation">(</span>a.begin<span class="token punctuation">(</span><span class="token punctuation">)</span>, a.end<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span>//排序</pre></td></tr><tr><td data-num="10"></td><td><pre>	a.erase<span class="token punctuation">(</span>unique<span class="token punctuation">(</span>a.begin<span class="token punctuation">(</span><span class="token punctuation">)</span>, a.end<span class="token punctuation">(</span><span class="token punctuation">))</span>, a.end<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span> //去重+删除后面多余的元素</pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token builtin class-name">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>//值映射到编号上</pre></td></tr><tr><td data-num="14"></td><td><pre>int id<span class="token punctuation">(</span>int val<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token builtin class-name">return</span> lower_bound<span class="token punctuation">(</span>a.begin<span class="token punctuation">(</span><span class="token punctuation">)</span>, a.end<span class="token punctuation">(</span><span class="token punctuation">)</span>, val<span class="token punctuation">)</span> - a.begin<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>int val<span class="token punctuation">(</span>int <span class="token function">id</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token builtin class-name">return</span> a<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="setmap实现离散化"><a class="anchor" href="#setmap实现离散化">#</a> set&amp;map 实现离散化</h2>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>map<span class="token operator">&lt;</span>int, int<span class="token operator">></span> mp<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>set<span class="token operator">&lt;</span>int<span class="token operator">></span> s<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>vector<span class="token operator">&lt;</span>int<span class="token operator">></span> val<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>void init<span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>int<span class="token operator">>&amp;</span> a<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	int cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    //将值放入集合中</pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span>auto x <span class="token builtin class-name">:</span> a<span class="token punctuation">)</span> s.insert<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span>auto x <span class="token builtin class-name">:</span> s<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>		mp<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> cnt<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        val<span class="token punctuation">[</span>cnt<span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        cnt++<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ul>
<li>也就是说，遍历集合 s 中的每个元素 x，让 x 作为 map 的 key，cnt 作为 value。这样就可以建立从<strong>值 -&gt; 编号</strong>的映射。</li>
</ul>
</div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i></span><span class="text">Edited on</span><time title="Modified: 2024-06-15 01:20:28" itemprop="dateModified" datetime="2024-06-15T01:20:28+08:00">2024-06-15</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i>Donate</button><p>Give me a cup of [coffee]~(￣▽￣)~*</p><div id="qr"><div><img loading="lazy" data-src="/assets/wechatpay.png" alt="Cvmax7 WeChat Pay"/><p>WeChat Pay</p></div><div><img loading="lazy" data-src="/assets/alipay.png" alt="Cvmax7 Alipay"/><p>Alipay</p></div></div></div><div id="copyright"><ul><li class="author"><strong>Post author: </strong>Cvmax7<i class="ic i-at"><em>@</em></i>The first is to learn, the second is to cope.</li><li class="link"><strong>Post link: </strong><a href="https://cvmax7.github.io/2024/06/14/C-Notes/" title="C++Notes">https://cvmax7.github.io/2024/06/14/C-Notes/</a></li><li class="license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</a> unless stating additionally.</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2024/06/10/Cnotes/" rel="prev" itemprop="url" data-background-image="https:&#x2F;&#x2F;ooo.0x0.ooo&#x2F;2024&#x2F;06&#x2F;15&#x2F;OJwVRp.jpg" title="Concrete Introduction to Number Theory and Algebra"><span class="type">Previous Post</span><h3>Concrete Introduction to Number Theory and Algebra</h3></a></div><div class="item right"></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="Contents"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#stl%E5%BA%93"><span class="toc-number">1.</span> <span class="toc-text"> STL 库</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#string"><span class="toc-number">2.</span> <span class="toc-text"> string</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E5%AD%97%E7%AC%A6%E5%88%A4%E6%96%AD%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-number">2.1.</span> <span class="toc-text"> 1. 字符判断常用函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E5%A4%A7%E5%B0%8F%E5%86%99%E8%BD%AC%E6%8D%A2"><span class="toc-number">2.2.</span> <span class="toc-text"> 2. 大小写转换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-number">2.3.</span> <span class="toc-text"> 3. 迭代器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-number">2.4.</span> <span class="toc-text"> 4. 基本操作</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#vector"><span class="toc-number">3.</span> <span class="toc-text"> vector</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">3.1.</span> <span class="toc-text"> 1. 基本概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E8%B5%8B%E5%80%BC%E6%93%8D%E4%BD%9C"><span class="toc-number">3.2.</span> <span class="toc-text"> 2. 赋值操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E9%81%8D%E5%8E%86%E6%96%B9%E5%BC%8F"><span class="toc-number">3.3.</span> <span class="toc-text"> 3. 遍历方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4it"><span class="toc-number">3.4.</span> <span class="toc-text"> 4.*it</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5vector%E4%B8%AD%E5%B5%8C%E5%A5%97vector"><span class="toc-number">3.5.</span> <span class="toc-text"> 5.vector 中嵌套 vector</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6vector%E5%AE%B9%E9%87%8F%E5%92%8C%E5%A4%A7%E5%B0%8F"><span class="toc-number">3.6.</span> <span class="toc-text"> 6.vector 容量和大小</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7vector%E6%8F%92%E5%85%A5%E5%92%8C%E5%88%A0%E9%99%A4"><span class="toc-number">3.7.</span> <span class="toc-text"> 7.vector 插入和删除</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8vector%E6%95%B0%E6%8D%AE%E5%AD%98%E5%8F%96"><span class="toc-number">3.8.</span> <span class="toc-text"> 8.vector 数据存取</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9vector%E4%BA%92%E6%8D%A2%E5%AE%B9%E5%99%A8"><span class="toc-number">3.9.</span> <span class="toc-text"> 9.vector 互换容器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10algorithm%E5%BA%93%E4%B8%AD%E5%AF%B9vector%E7%9A%84%E5%B8%B8%E8%A7%81%E6%93%8D%E4%BD%9C"><span class="toc-number">3.10.</span> <span class="toc-text"> 10.algorithm 库中对 vector 的常见操作</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#map"><span class="toc-number">4.</span> <span class="toc-text"> Map</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%AE%9A%E4%B9%89map"><span class="toc-number">4.1.</span> <span class="toc-text"> 1. 定义 map</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E9%81%8D%E5%8E%86%E6%96%B9%E5%BC%8F"><span class="toc-number">4.2.</span> <span class="toc-text"> 2. 遍历方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-map%E6%8F%92%E5%85%A5%E5%92%8C%E5%88%A0%E9%99%A4"><span class="toc-number">4.3.</span> <span class="toc-text"> 3. Map 插入和删除</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-map%E6%9F%A5%E6%89%BE"><span class="toc-number">4.4.</span> <span class="toc-text"> 4. Map 查找</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-map%E6%8E%92%E5%BA%8F"><span class="toc-number">4.5.</span> <span class="toc-text"> 5. Map 排序</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#dp"><span class="toc-number">5.</span> <span class="toc-text"> DP</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E7%BC%80%E5%92%8C"><span class="toc-number">6.</span> <span class="toc-text"> 前缀和</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B7%AE%E5%88%86"><span class="toc-number">7.</span> <span class="toc-text"> 差分</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E5%88%86%E7%AD%94%E6%A1%88"><span class="toc-number">8.</span> <span class="toc-text"> 二分答案</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98"><span class="toc-number">9.</span> <span class="toc-text"> 背包问题</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80-01%E8%83%8C%E5%8C%85"><span class="toc-number">9.1.</span> <span class="toc-text"> 一、01 背包</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%B4%AA%E5%BF%83"><span class="toc-number">10.</span> <span class="toc-text"> 贪心</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%A6%BB%E6%95%A3%E5%8C%96"><span class="toc-number">11.</span> <span class="toc-text"> 离散化</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E6%8E%92%E5%BA%8F%E5%8E%BB%E9%87%8D%E4%BA%8C%E5%88%86"><span class="toc-number">11.1.</span> <span class="toc-text"> （一）排序去重 + 二分</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E7%89%88"><span class="toc-number">11.2.</span> <span class="toc-text"> 数组版</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vector%E7%89%88"><span class="toc-number">11.3.</span> <span class="toc-text"> vector 版</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#setmap%E5%AE%9E%E7%8E%B0%E7%A6%BB%E6%95%A3%E5%8C%96"><span class="toc-number">11.4.</span> <span class="toc-text"> set&amp;map 实现离散化</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="Related"></div><div class="overview panel" data-title="Overview"><div class="author" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><img class="image" loading="lazy" decoding="async" itemprop="image" alt="Cvmax7" src="/assets/avatar.jpg"/><p class="name" itemprop="name">Cvmax7</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">2</span><span class="name">posts</span></a></div></nav><div class="social"><a target="_blank" rel="noopener" href="https://github.com/name" class="item github" title="https:&#x2F;&#x2F;github.com&#x2F;name"><i class="ic i-github"></i></a></div><div class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>Home</a></li></div></div></div></div><ul id="quick"><li class="prev pjax"></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2024/06/10/Cnotes/" rel="next" title="Next Post"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>Random Posts</h2><ul><li class="item"><div class="breadcrumb"></div><span><a href="/2024/06/14/C-Notes/">C++Notes</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/06/10/Cnotes/">Concrete Introduction to Number Theory and Algebra</a></span></li></ul></div><div class="rpost pjax"><h2>Recent Comments</h2></div></div><div class="status"><div class="copyright">&copy; 2022 -<span itemprop="copyrightYear">2024</span><span class="with-love"><i class="ic i-sakura rotate"></i></span><span class="author" itemprop="copyrightHolder">Cvmax7 @ Cvmax7</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i></span><span title="Symbols count total">53k words</span><span class="post-meta-divider"> | </span><span class="post-meta-item-icon"><i class="ic i-coffee"></i></span><span title="Reading time total">49 mins.</span></div><div class="powered-by">Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> & Theme.<a target="_blank" rel="noopener" href="https://github.com/theme-shoka-x/hexo-theme-shokaX/">ShokaX</a></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL = {
    ispost: true,
        path: `2024/06/14/C-Notes/`,
        favicon: {
        show: `Cvmax7's Blog`,
        hide: `Cvmax7's Blog`
    },
    search: {
        placeholder: "Search for Posts",
        empty: "We didn't find any results for the search: ${query}",
        stats: "${hits} results found in ${time} ms"
    },
    copy_tex: true,
    katex: true,
    mermaid: false,
    audio: undefined,
    fancybox: true,
    nocopy: false,
    outime: true,
    template: `<div class="note warning"><p><span class="label warning">Article Timeliness Alert</span><br>This is an article published {{publish}} days ago and last updated {{updated}} days ago. Some information may have changed, so please be careful to screen it.</p></div>`,
    quiz: {
        choice: `Multiple Choice`,
        multiple: `Multiple Answer`,
        true_false: `True/False`,
        essay: `Questions`,
        gap_fill: `Gap Filling`,
        mistake: `Wrong Answer`
    },
    ignores: [
        (uri) => uri.includes('#'),
        (uri) => new RegExp(LOCAL.path + '$').test(uri),
            []
    ]
};
</script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/pace/1.2.4/pace.min.js" async></script><script src="/js/siteInit.js?v=0.4.2" type="module" fetchpriority="high" defer></script></body></html>